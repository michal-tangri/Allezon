<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>

    <title>Allezon</title>
    <h:outputStylesheet name="main.css" library="css"/>
    <h:outputStylesheet name="bootstrap.css" library="css"/>
    <h:outputStylesheet name="html-background.css" library="css"/>

</h:head>

<h:body style="background-color: lightgrey">

    <ui:include src="/templates/topbar.xhtml"/>

    <div class="auth-background">

        <div class="container-fluid" style="position: absolute; top: 32%; bottom: 68%">

            <!-- Napis nad formularzem -->
            <div class="row">
                <div class="col-lg">
                    <div>
                        <div style="color: black; text-align: center">
                            <h4>Sign up</h4>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Formularz logowania -->
            <div class="row">
                <div class="col-lg">
                    <div>
                        <div align="center">

                            <h:form>

                                <!-- Wiadomość wyświetlana kiedy użytkownik już istnieje w bazie -->
                                <h:outputText value="Username already taken!"
                                              rendered="#{registerController.usernameAlreadyInDatabase}"/>

                                <!-- Wiadomość wyświetlana kiedy podane hasła się nie zgadzają -->
                                <h:outputText value="Passwords do not match!"
                                              rendered="#{registerController.passwordsDoNotMatch}"/>

                                <!-- Imię -->
                                <h:message for="nameField"/>

                                <h:inputText value="#{registerRequest.name}"
                                             id="nameField"
                                             a:placeholder="Name"
                                             validatorMessage="#{msg['jaz.allezon.validator.registration.name']}"
                                             styleClass="form-control item-centered"
                                             style="width: 270px; height: 50px; background-color: white; color: black">

                                    <f:validateRegex pattern="^[\p{L}\s]{3,50}+$"/>
                                </h:inputText>

                                <!-- Nazwisko -->
                                <h:message for="surnameField"/>

                                <h:inputText value="#{registerRequest.surname}"
                                             id="surnameField"
                                             a:placeholder="Surname"
                                             validatorMessage="#{msg['jaz.allezon.validator.registration.surname']}"
                                             styleClass="form-control item-centered"
                                             style="width: 270px; height: 50px; background-color: white; color: black">

                                    <f:validateRegex pattern="^[\p{L}]{3,50}+$"/>
                                </h:inputText>

                                <!-- Nazwa użytkownika-->
                                <h:message for="usernameField"/>

                                <h:inputText value="#{registerRequest.username}"
                                             id="usernameField"
                                             a:placeholder="Username"
                                             validatorMessage="#{msg['jaz.allezon.validator.registration.username']}"
                                             styleClass="form-control item-centered"
                                             style="width: 270px; height: 50px; background-color: white; color: black">

                                    <f:validateRegex pattern="^[a-z0-9]+$"/>
                                </h:inputText>

                                <!-- Hasło -->
                                <h:message for="passwordField"/>

                                <h:inputSecret value="#{registerRequest.password}"
                                               id="passwordField"
                                               a:placeholder="Password"
                                               validatorMessage="#{msg['jaz.allezon.validator.registration.password']}"
                                               styleClass="form-control item-centered"
                                               style="width: 270px; height: 50px; background-color: white; color: black">

                                    <f:validateRegex
                                            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*#?]{5,30}+$"/>
                                </h:inputSecret>

                                <!-- Powtórzone hasło -->
                                <h:message for="passwordFieldRepeat"/>

                                <h:inputSecret value="#{registerRequest.passwordRepeat}"
                                               id="passwordFieldRepeat"
                                               a:placeholder="Repeat password"
                                               validatorMessage="#{msg['jaz.allezon.validator.registration.password']}"
                                               styleClass="form-control item-centered"
                                               style="width: 270px; height: 50px; background-color: white; color: black">

                                    <f:validateRegex
                                            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*#?]{5,30}+$"/>
                                </h:inputSecret>


                                <!-- Adres email-->
                                <h:message for="emailField"/>

                                <h:inputText value="#{registerRequest.emailAddress}"
                                             id="emailField"
                                             a:placeholder="E-mail address"
                                             validatorMessage="#{msg['jaz.allezon.validator.registration.email']}"
                                             styleClass="form-control item-centered"
                                             style="width: 270px; height: 50px; background-color: white; color: black">

                                    <f:validateRegex pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]+$"/>
                                </h:inputText>


                                <!-- Data urodzenia-->
                                <h:message for="birthField"/>

                                <h:inputText value="#{registerRequest.dateOfBirth}"
                                             id="birthField"
                                             a:placeholder="Date of birth (DD/MM/YYYY)"
                                             validatorMessage="#{msg['jaz.allezon.validator.registration.dateOfBirth']}"
                                             styleClass="form-control item-centered"
                                             style="width: 270px; height: 50px; background-color: white; color: black">

                                    <f:validateRegex
                                            pattern="^([0-2][0-9]|(3)[0-1])(/)(((0)[0-9])|((1)[0-2]))(/)\d{4}+$"/>
                                </h:inputText>

                                <!-- Przycisk rejestracji -->
                                <h:commandButton value="Register"
                                                 action="#{registerController.register}"
                                                 styleClass="btn btn-info"
                                                 style="margin-top: 10px; width: 270px; height: 40px;"/>

                            </h:form>

                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg">
                    <div>
                        <div>
                            <ui:insert name="footer">
                                <ui:include src="/templates/footer.xhtml"/>
                            </ui:insert>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>


</h:body>

</html>