<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>

    <title>Allezon</title>
    <h:outputStylesheet name="main.css" library="css"/>
    <h:outputStylesheet name="bootstrap.css" library="css"/>
    <h:outputStylesheet name="fontello.css" library="css"/>
    <h:outputStylesheet name="html-background.css" library="css"/>

</h:head>

<h:body style="background-color: lightgray;">

    <ui:include src="/templates/topbar.xhtml"/>

    <div>

        <div id="viewport">

            <ui:include src="/templates/sidebar.xhtml"/>

            <div id="content" style="margin-top: 81px; z-index: 1">
                <div class="container-fluid" style="margin-top: 10px;">

                    <!-- Napis nad formularzem kategorii -->
                    <div class="row">
                        <div class="col-lg">
                            <div>
                                <div style="color: black; text-align: center">
                                    <h4>Manage category</h4>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Formularz kategorii -->
                    <div class="row">
                        <div class="col-lg">
                            <div>
                                <div style="color: black; text-align: center" align="center">
                                    <h:form>
                                        <!-- Wiadomość wyświetlana przy udanym zapisie kategorii -->
                                        <h:outputText value="#{msg['jaz.allezon.validator.category.successful']}"
                                                      rendered="#{categoryController.changingCategorySuccessful}"/>

                                        <!-- Wiadomość wyświetlana przy próbie dodania istniejącej już kategorii -->
                                        <h:outputText value="#{msg['jaz.allezon.validator.category.alreadyExists']}"
                                                      rendered="#{categoryController.categoryAlreadyExists}"/>

                                        <h:message for="nameField"/>

                                        <!-- ID -->
                                        <h:inputHidden value="#{categoryController.categoryRequest.id}"/>

                                        <!-- Nazwa -->
                                        <h:inputText value="#{categoryController.categoryRequest.name}"
                                                     id="nameField"
                                                     required="true"
                                                     requiredMessage="#{msg['jaz.allezon.validator.category.unsuccessful']}"
                                                     rendered="#{not categoryController.categoryDoesNotExist and not categoryController.wrongParameterInLink}"
                                                     a:placeholder="Category name"
                                                     styleClass="form-control item-centered"
                                                     style="width: 270px; height: 50px; background-color: white; color: black"/>

                                        <!-- Dział -->
                                        <h:selectOneMenu  value="#{categoryController.categoryRequest.sectionName}"
                                                          rendered="#{not categoryController.categoryDoesNotExist and not categoryController.wrongParameterInLink}"
                                                          styleClass="form-control browser-default custom-select"
                                                          style="width: 270px; height: 46px">

                                            <c:forEach items="#{categoryController.getAllSections()}"
                                                       var="section" varStatus="metadata">
                                                <f:selectItem itemValue="#{section.name}" itemLabel="#{section.name}" />
                                            </c:forEach>

                                        </h:selectOneMenu>

                                        <br/>

                                        <!-- Przycisk dodawania kateogrii -->
                                        <h:commandButton value="Submit"
                                                         action="#{categoryController.save}"
                                                         rendered="#{not categoryController.categoryDoesNotExist and not categoryController.wrongParameterInLink}"
                                                         styleClass="btn btn-primary"
                                                         style="margin-top: 10px; width: 270px; height: 40px;"/>
                                    </h:form>

                                    <h:outputText value="#{msg['jaz.allezon.validator.category.doesNotExist']}"
                                                  rendered="#{categoryController.categoryDoesNotExist}"
                                                  style="font-size: 36px"/>

                                    <h:outputText value="#{msg['jaz.allezon.validator.category.wrongParameter']}"
                                                  rendered="#{categoryController.wrongParameterInLink}"
                                                  style="font-size: 36px"/>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg">
                            <div align="center">
                                <h:link value="Back"
                                        outcome="categoriesList.xhtml"
                                        styleClass="btn btn-primary"
                                        style="width: 270px; height: 40px; margin-top: 10px;"/>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg">
                            <div>
                                <div>
                                    <ui:insert name="footer">
                                        <ui:include src="/templates/footer.xhtml"/>
                                    </ui:insert>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>

</h:body>

</html>